(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{1761:function(e,n,r){"use strict";r.r(n);var t=r(24),a=r(49),s=r.n(a),o=r(23),u=r(155),c=r(9),i=r.n(c);function p(e){return l.apply(this,arguments)}function l(){return(l=Object(u.a)(s.a.mark(function e(n){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.a.post("/user/login",n));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}n.default={namespace:"login",state:{loggedIn:!1,message:"",user:{}},subscriptions:{setup:function(e){var n=e.history;e.dispatch;return n.listen(function(e){-1!==e.pathname.indexOf("/sign/login")&&i.a.removeStore("user")})}},effects:{login:s.a.mark(function e(n,r){var t,a,u,c,l,f,g;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.payload,a=r.call,u=r.put,e.next=4,a(p,t);case 4:if(c=e.sent,l=c.status,f=c.message,g=c.data,!l){e.next=14;break}return i.a.setStore("user",g),e.next=12,u(o.routerRedux.replace("/"));case 12:e.next=16;break;case 14:return e.next=16,u({type:"loginError",payload:{message:f}});case 16:case"end":return e.stop()}},e)}),logout:s.a.mark(function e(n,r){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r.put;case 1:case"end":return e.stop()}},e)})},reducers:{loginSuccess:function(e,n){var r=n.payload;return Object(t.a)({},e,{loggedIn:!0,message:"",user:r})},loginError:function(e,n){var r=n.payload;return Object(t.a)({},e,{loggedIn:!1,message:r.message})}}}}}]);